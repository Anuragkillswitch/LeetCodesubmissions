{"id":491336701,"lang":"c","time":"2 months, 2 weeks","timestamp":1620659946,"status_display":"Accepted","runtime":"20 ms","url":"/submissions/detail/491336701/","is_pending":"Not Pending","title":"Count Primes","memory":"9.6 MB","code":"\n\nint countPrimes(int n){\n  if (n<=2) return 0;\n    int N = n-1;\n    int M = N/2+N%2;\n    char* index = malloc(M*sizeof(char)); // prime -> 1, otherwise -> 0\n\n    for(int i=0;i<M;i++){// index for odd numbers, 1,3,5,...\n        index[i] = 1;\n    }\n    index[0] = 0; // 1 is not prime number\n        \n    for(int div=3;div<=sqrt(N);div+=2){\n        if (index[div>>1]){\n            for(int j=div+(div>>1);j<M;j+=div){\n                index[j] = 0;\n            }\n        }\n    }\n        \n    int total=0;// count total number of primes\n    for(int i=0;i<M;i++){\n        total += index[i];\n    }\n    return total+1; // 2 is prime number\n}","compare_result":"111111111111111111111","title_slug":"count-primes"}