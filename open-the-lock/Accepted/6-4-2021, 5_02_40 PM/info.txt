{"id":502891111,"lang":"java","time":"1 month, 2 weeks","timestamp":1622806360,"status_display":"Accepted","runtime":"8 ms","url":"/submissions/detail/502891111/","is_pending":"Not Pending","title":"Open the Lock","memory":"42.7 MB","code":"class Solution {\n    public int openLock(String[] deadends, String target) {\n        int[] pow10 = {1, 10, 100, 1000};\n        int[] visit = new int[10000]; // 0: not visited, 1: visited through forward direction, -1: visited through backward direction, 2: deadends\n        for(String dead: deadends) {\n            visit[Integer.parseInt(dead)] = 2;\n        }\n        int src = 0, dest = Integer.parseInt(target), steps = 0, dir = 1;\n        if(visit[src] == 2 || visit[dest] == 2) return -1;\n        if(src == dest) return 0;\n        Queue<Integer> forward = new LinkedList<>(), backward = new LinkedList<>();\n        forward.add(src);\n        visit[src] = 1;\n        backward.add(dest);\n        visit[dest] = -1;\n        while(!forward.isEmpty() && !backward.isEmpty()) {\n            if(forward.size() > backward.size()) {\n                Queue<Integer> tmp = forward; forward = backward; backward = tmp;\n                dir = -dir;\n            }\n            steps++;\n            int size = forward.size();\n            while(size-- > 0) {\n                int cur = forward.poll();\n                for(int p: pow10) {\n                    int d = (cur / p) % 10;\n                    for(int i = -1; i <= 1; i += 2) {\n                        int z = d + i;\n                        z = z == -1 ? 9 : (z == 10 ? 0 : z);\n                        int next = cur + (z - d) * p;\n                        if(visit[next] == -dir) return steps;\n                        if(visit[next] == 0) {\n                            forward.add(next);\n                            visit[next] = dir;\n                        }\n                    }\n                }\n            }\n        }\n        return -1;\n    }\n}","compare_result":"11111111111111111111111111111111111111111111111","title_slug":"open-the-lock"}