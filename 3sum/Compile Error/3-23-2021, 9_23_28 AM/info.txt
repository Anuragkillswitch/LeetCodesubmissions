{"id":471269397,"lang":"c","time":"4Â months","timestamp":1616471608,"status_display":"Compile Error","runtime":"N/A","url":"/submissions/detail/471269397/","is_pending":"Not Pending","title":"3Sum","memory":"N/A","code":"void sort(int* nums, int begin, int end)\n{\n    int l=begin, r=end;\n    int v = nums[l+(r-l)/2];\n    while(l <= r)\n    {\n        while(nums[l] < v) l++;\n        while(nums[r] > v) r--;\n        if(l <= r)\n        {\n            int t = nums[l];\n            nums[l] = nums[r];\n            nums[r] = t;\n            l++; r--;\n        }\n    }\n    if(r > begin)\n        sort(nums, begin, r);\n    if(l < end)\n        sort(nums, l, end);\n}\n\n//AC - 24ms;\nint** threeSum(int* nums, int size, int* returnSize)\n{\n    sort(nums, 0, size-1);\n    int left, right;\n    int** arr = (int**)malloc(sizeof(int*));\n    *returnSize = 0;\n    for(int i = 0; i < size-2; i++)\n    {\n        while(i<size-2 && i>0 && nums[i]==nums[i-1]) i++; //avoid redundant traversal by isolating the duplicates;\n        left = i+1;\n        right = size-1;\n        int sum = -nums[i];\n        while(left < right) //the searching process is the same with the 2-sum problem;\n        {\n            int t = nums[left]+nums[right];\n            if(t > sum) right--;\n            else if(t < sum) left++;\n            else\n            {\n                if(!*returnSize || (*returnSize && (nums[i]!=arr[*returnSize-1][0] ||\n                                nums[left]!=arr[*returnSize-1][1]))) //collect the qualified and isolating the duplicates;\n                {\n                    *returnSize += 1;\n                    arr = (int**)realloc(arr, sizeof(int*)*(*returnSize));\n                    arr[*returnSize-1] = (int*)malloc(sizeof(int)*3);\n                    arr[*returnSize-1][0] = nums[i];\n                    arr[*returnSize-1][1] = nums[left];\n                    arr[*returnSize-1][2] = nums[right];\n                }\n                left++;\n            }\n        }\n    }\n    return arr;\n}","compare_result":null,"title_slug":"3sum"}